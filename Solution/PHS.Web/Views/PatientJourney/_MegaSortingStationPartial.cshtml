@model List<PHS.DB.Modality>
@using PHS.DB
@using PHS.Business.ViewModel.PatientJourney
@using PHS.FormBuilder.Helpers
@using PHS.FormBuilder.Extensions
@using GridMvc.Html


@{
    ViewBag.Title = "Mega Sorting Station - Form A";
}


<script>
    $(document).ready(function () {



    $(".cbk").change(function () {
        var select = "";
        $("input[type = 'checkbox']").each(function () {
            var c = $(this).is(":checked");
            if (c) {
                select = select + "1|";

            } else { 
                select = select + "0|";
            }
        })
        
                $.ajax(
                    {
                        type: "GET",
                        url: '@Url.Action("ActivateCirclesFromMSSS", "PatientJourney")', // Controller/View
                        data: {'activateList': select},
                        contentType: "application/json; charset=utf-8",
                        success: function (resp) {
                            $('#ptJourney').html(resp);
                        }
                    });

        });
    });
</script>



@using (Html.BeginForm())
{
    <div>
        <table id="tableFormA">
            <tr>
                <td>
                    <b>Modality</b>
                </td>
                <td>
                    <b>Eligibility</b>
                </td>
                <td>
                    <b>Interest</b>
                </td>
                <td>
                    <b>No. of Labels</b>
                </td>
            </tr>
            @for (int i = 0; i < Model.Count; i++)
            {
                <tr>
                    <td>
                        <b>@Model.ElementAt(i).Name</b>
                        <br />
                        <img src="@Model.ElementAt(i).IconPath" height="20" width="20" />
                    </td>
                    <td>Eligibility</td>
                    <td>@Html.CheckBoxFor(m => m[i].IsActive, new { @class = "cbk", modIsActive = Model[i].Name })</td>
                    <td>2</td>
                </tr>

            }
        </table>

    </div>

}

